fileVersion: 1
id: "20"
isDisabled: false
metadata:
  defaultStorageLocation: null
  error: null
  nodeMetadataSpec: |
    Node Definition:
    capitalized: dv-bv
    short: dv-bv
    tagColor: '#C4C4C4'
    isDisabled: true
    plural: dv-bv

    config:
      - groupName: Options
        items: 
        - type: materializationSelector
          attributeName: materializationSelector_name
          options:
            - view
            - table
          default: table
          isRequired: true

        - displayName: Enable Tests
          attributeName: testsEnabled
          type: toggleButton
          default: true

        - type: toggleButton
          attributeName: selectDistinct
          displayName: Distinct

        - type: toggleButton
          displayName: Truncate Before
          attributeName: truncateBefore
          default: true
          enableIf: 'true'

        - displayName: Pre-SQL
          attributeName: preSQL
          type: textBox
          isRequired: false

        - displayName: Post-SQL
          attributeName: postSQL
          type: textBox
          isRequired: false

        - type: overrideSQLToggle
        - type: multisourceToggle
        - displayName: Multi Source Strategy
          attributeName: insertStrategy
          type: dropdownSelector
          default: UNION
          options:
          - "UNION"
          - "UNION ALL" 
          isRequired: true
          enableIf: "{% if node.isMultisource %} true {% else %} false {% endif %}"

      - groupName: Auxmoney Extention
        items:  
        - type: toggleButton
          attributeName: explicitDrop
          displayName: Enable Explicit Drop (No Explain possible)
          default: false

        - displayName: Enable ChangeTracking (Snowflake)
          attributeName: changeTrackingEnabled
          type: toggleButton
          default: false
          enableIf: "{% if node.materializationType == 'table' %} true {% else %} false {% endif %}"

        - type: toggleButton
          displayName: Apply Aggregation
          attributeName: aggregate
          default: False

        - type: dropdownSelector
          displayName: AggregationFunction
          attributeName: aggregationFunction
          options: 
            - MAX
            - MIN
            - COUNT
            - SUM
            - MINUS
          isRequired: false
          enableIf: "{% if config.aggregate %} true {% else %} false {% endif %}"

        - displayName: Aggregation Field
          type: columnDropdownSelector
          attributeName: is_aggregation_field
          isRequired: false
          enableIf: "{% if config.aggregate %} true {% else %} false {% endif %}"
name: Auxmoney Test
type: NodeType
